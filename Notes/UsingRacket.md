## Racket使用过程中问题汇总

### 常见报错

Racket的报错信息不是非常地友好，很多时候并不能直接指出错误位置。需要根据报错信息去推敲。
- `no expression in body` 通常来说是函数定义中没有写函数体，通常发生在一个函数内部定义了多个局部函数，忘记了写函数体的情况。报错信息中给了函数，但不会给行号，所以需要根据函数名去找。报错信息中提示的错误位置通常会是在`...\Racket\share\pkgs\r5rs-lib\r5rs\main.rkt`。
- `contract violation`一般来说是过程调用时数据类型不匹配的问题，比如计算`f(x)+a`应该是`(+ (f x) a)`，如果写的时候漏掉了括号写成了`(+ f x a)`那么第二个参数是过程会导致类型不匹配。此时报错中并不会报告出确切的位置，而只是报告出这个S表达式的括号所在位置，需要根据报错信息中需要的类型与给定的类型信息，然后在括号范围内去仔细查找。
- `xxxx: arity mismatch`，函数参数数量不匹配的问题，会说明预期需要几个参数，实际给了几个参数。如果在函数体外，则会指明是哪个函数，函数体内则会指明行号列号。

### 报错位置

- 如果错误发生在一个函数体内部，那么行号和列号，直接去找就行。
- 如果错误发生在函数定义外部，只会指明是`body of "...\xxx.rkt"`，那么就没有行号列号信息，需要结合前面的输出信息和报错的函数名去判断是哪一步出错。